var Cart=function(e,t,n,r,i){this.cookie_name=e;this.cart=getCookie(this.cookie_name);this.cart?this.cart=JSON.parse(this.cart):this.reset();this.equipment_total_class=t;this.monthly_total_class=n;this.equipment_breakdown_class=r;this.render()};$.extend(Cart.prototype,{debug:function(){console.log(this.cart)},reset:function(){this.cart={monitoring:{},"package":{},equipment:{}};setCookie("paCart",JSON.stringify(this.cart))},save:function(){setCookie(this.cookie_name,JSON.stringify(this.cart));this.render()},add_monitoring:function(e,t,n){this.cart.monitoring={item:e,price:t,monthly:n};this.save()},add_package:function(e,t,n){this.cart["package"]={item:e,price:t,monthly:n};this.save()},add_equipment:function(e,t,n){this.cart.equipment[e]||(this.cart.equipment[e]={price:t,count:0,monthly:n});this.cart.equipment[e].count=this.cart.equipment[e].count+1;this.save()},add_to_cart:function(e,t,n,r){switch(e){case"equipment":this.add_equipment(t,n,r);break;case"monitoring":this.add_monitoring(t,n,r);break;case"package":this.add_package(t,n,r)}},remove_equipment:function(e){if(!this.cart.equipment[e])return!1;this.cart.equipment[e].count=this.cart.equipment[e].count-1;this.cart["equipment"][e]["count"]==0&&delete this.cart.equipment[e];this.save()},remove_category:function(e){this.cart[e]={};this.save()},remove_from_cart:function(e,t){switch(e){case"equipment":this.remove_equipment(t);break;case"monitoring":this.remove_category(e);break;case"package":this.remove_category(e)}},get_equipment_total:function(){var e=Number(0);$.each(this.cart.equipment,function(t,n){equip_item_total=n.count*n.price;e+=Number(equip_item_total)});return e},get_equipment_monthly:function(){var e=Number(0);$.each(this.cart.equipment,function(t,n){equip_item_total=n.count*n.monthly;e+=Number(equip_item_total)});return e},get_monthly_total:function(){var e=Number(0);this.cart.monitoring&&(e+=Number(this.cart.monitoring.monthly));this.cart["package"]&&(e+=Number(this.cart["package"].monthly));e+=this.get_equipment_monthly();return e},render:function(){$("."+this.equipment_total_class).html(this.get_equipment_total());$("."+this.monthly_total_class).html(this.get_monthly_total());var e=$("<ul/>");$.each(this.cart.equipment,function(t,n){$("<li/>").html(t+" : "+n.count+" : $"+Number(n.count*n.price)+'<div class="remove_from_cart">-</div>').attr("data-category","equipment").attr("data-item",t).appendTo(e)});$("."+this.equipment_breakdown_class).html(e)}});