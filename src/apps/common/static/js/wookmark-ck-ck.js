/*!
 * Masonry v3.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(e){"use strict";function t(e,t){var r=e.create("masonry");r.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var e=this.cols;this.colYs=[];while(e--)this.colYs.push(0);this.maxY=0};r.prototype.measureColumns=function(){var e=this.items[0].element;this.columnWidth=this.columnWidth||t(e).outerWidth;this.columnWidth+=this.gutter;this.cols=Math.floor((this.size.innerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};r.prototype._getItemLayoutPosition=function(e){e.getSize();var t=Math.ceil(e.size.outerWidth/this.columnWidth);t=Math.min(t,this.cols);var r=this._getColGroup(t),i=Math.min.apply(Math,r),s=n(r,i),o={x:this.columnWidth*s,y:i},u=i+e.size.outerHeight,a=this.cols+1-r.length;for(var f=0;f<a;f++)this.colYs[s+f]=u;return o};r.prototype._getColGroup=function(e){if(e===1)return this.colYs;var t=[],n=this.cols+1-e;for(var r=0;r<n;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t};r.prototype._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,s=i+n.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u=Math.min(this.cols-1,u);var a=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight;for(var f=o;f<=u;f++)this.colYs[f]=Math.max(a,this.colYs[f])};r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);return{height:this.maxY}};return r}var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i===t)return n}return-1};typeof define=="function"&&define.amd?define(["outlayer","get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)})(window);