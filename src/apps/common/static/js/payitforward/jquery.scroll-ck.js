/* ===========================================================
* jquery-onepage-scroll.js v1.3.1
* ===========================================================
* Copyright 2013 Pete Rojwongsuriya.
* http://www.thepetedesign.com
*
* Create an Apple-like website that let user scroll
* one page at a time
*
* Credit: Eike Send for the awesome swipe event
* https://github.com/peachananr/onepage-scroll
*
* License: GPL v3
*
* Credit: Ken Frederick for the "direction", "touchTarget", bower.json and "onLoad" options
* https://github.com/frederickk
*
* Credit: Jay Contonio for the moveTo method
* https://github.com/jcontonio
*
* ========================================================== */!function(e){var t={sectionContainer:"section",easing:"ease",animationTime:750,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,direction:"vertical",touchTarget:null,onLoad:null};e.fn.swipeEvents=function(){return this.each(function(){function i(e){var i=e.originalEvent.touches;if(i&&i.length){t=i[0].pageX;n=i[0].pageY;r.bind("touchmove",s)}e.preventDefault()}function s(e){var i=e.originalEvent.touches;if(i&&i.length){var o=t-i[0].pageX,u=n-i[0].pageY;o>=50&&r.trigger("swipeLeft");o<=-50&&r.trigger("swipeRight");u>=50&&r.trigger("swipeUp");u<=-50&&r.trigger("swipeDown");(Math.abs(o)>=50||Math.abs(u)>=50)&&r.unbind("touchmove",s)}e.preventDefault()}var t,n,r=e(this);r.bind("touchstart",i)})};e.fn.onepage_scroll=function(n){function o(e,t){deltaOfInterest=t;var n=(new Date).getTime();if(n-lastAnimation<quietPeriod+r.animationTime){e.preventDefault();return}deltaOfInterest<0?i.moveDown():i.moveUp();lastAnimation=n}var r=e.extend({},t,n),i=e(this),s=e(r.sectionContainer);total=s.length,status="off",topPos=0,leftPos=0,currentPos=0,lastAnimation=0,quietPeriod=300,paginationList="";e.fn.transformPage=function(t,n,r){e(this).css({"-webkit-transform":t.direction=="horizontal"?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)","-moz-transform":t.direction=="horizontal"?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)","-ms-transform":t.direction=="horizontal"?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)",transform:t.direction=="horizontal"?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)","-webkit-transition":"all "+t.animationTime+"ms "+t.easing,"-moz-transition":"all "+t.animationTime+"ms "+t.easing,"-ms-transition":"all "+t.animationTime+"ms "+t.easing,transition:"all "+t.animationTime+"ms "+t.easing});e(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){typeof t.afterMove=="function"&&t.afterMove(r)})};e.fn.moveDown=function(t){var n=e(this);t=t!=undefined?t:1;index=e(r.sectionContainer+".active").data("index");current=e(r.sectionContainer+"[data-index='"+index+"']");next=e(r.sectionContainer+"[data-index='"+(index+t)+"']");if(next.length<1){if(r.loop!=1)return;pos=0;next=e(r.sectionContainer+"[data-index='1']")}else pos=(next.data("index")-1)*100*-1;typeof r.beforeMove=="function"&&r.beforeMove(current.data("index"),next.data("index"));current.removeClass("active");next.addClass("active");if(r.pagination==1){e(".onepage-pagination li a[data-index='"+index+"']").removeClass("active");e(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")}e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==1){var i=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+t);history.pushState({},document.title,i)}n.transformPage(r,pos,index)};e.fn.moveUp=function(t){var n=e(this);t=t!=undefined?t:1;index=e(r.sectionContainer+".active").data("index");current=e(r.sectionContainer+"[data-index='"+index+"']");next=e(r.sectionContainer+"[data-index='"+(index-t)+"']");if(next.length<1){if(r.loop!=1)return;pos=(total-1)*100*-1;next=e(r.sectionContainer+"[data-index='"+total+"']")}else pos=(next.data("index")-1)*100*-1;typeof r.beforeMove=="function"&&r.beforeMove(current.data("index"),next.data("index"));current.removeClass("active");next.addClass("active");if(r.pagination==1){e(".onepage-pagination li a[data-index='"+index+"']").removeClass("active");e(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")}e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==1){var i=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-t);history.pushState({},document.title,i)}n.transformPage(r,pos,index)};e.fn.moveTo=function(t){var n=e(this);index=e(r.sectionContainer+".active").data("index");current=e(r.sectionContainer+"[data-index='"+index+"']");next=e(r.sectionContainer+"[data-index='"+t+"']");if(next){current.removeClass("active");next.addClass("active")}e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));pos=(next.data("index")-1)*100*-1;n.transformPage(r,pos)};i.addClass("onepage-wrapper").css("position","relative");e.each(s,function(t){e(this).css({position:"absolute",left:r.direction=="horizontal"?leftPos+"%":0,top:r.direction=="vertical"||r.direction!="horizontal"?topPos+"%":0}).addClass("section").attr("data-index",t+1);r.direction=="horizontal"?leftPos+=100:topPos+=100;r.pagination==1&&(paginationList+="<li><a data-index='"+(t+1)+"' href='#"+(t+1)+"'></a></li>")});if(r.direction=="horizontal"){r.touchTarget!=null&&e(r.touchTarget).swipeEvents().bind("swipeRight",function(){i.moveUp()}).bind("swipeLeft",function(){i.moveDown()});i.swipeEvents().bind("swipeRight",function(){i.moveUp()}).bind("swipeLeft",function(){i.moveDown()})}else{r.touchTarget!=null&&e(r.touchTarget).swipeEvents().bind("swipeDown",function(){i.moveUp()}).bind("swipeUp",function(){i.moveDown()});i.swipeEvents().bind("swipeDown",function(){i.moveUp()}).bind("swipeUp",function(){i.moveDown()})}if(r.pagination==1){e("<ul class='onepage-pagination'>"+paginationList+"</ul>").prependTo("body");if(r.direction=="horizontal"){posLeft=i.find(".onepage-pagination").width()/2*-1;i.find(".onepage-pagination").css("margin-left",posLeft)}else{posTop=i.find(".onepage-pagination").height()/2*-1;i.find(".onepage-pagination").css("margin-top",posTop)}}if(window.location.hash!=""&&window.location.hash!="#1"){init_index=window.location.hash.replace("#","");e(r.sectionContainer+"[data-index='"+init_index+"']").addClass("active");e("body").addClass("viewing-page-"+init_index);r.pagination==1&&e(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active");typeof r.onPageJump=="function"&&r.onPageJump(0,init_index);next=e(r.sectionContainer+"[data-index='"+init_index+"']");if(next){next.addClass("active");r.pagination==1&&e(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active");e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==1){var u=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,u)}}pos=(init_index-1)*100*-1;i.transformPage(r,pos,init_index)}else{e(r.sectionContainer+"[data-index='1']").addClass("active");e("body").addClass("viewing-page-1");r.pagination==1&&e(".onepage-pagination li a[data-index='1']").addClass("active")}r.pagination==1&&e(".onepage-pagination li a").click(function(){var t=e(this).data("index");if(!e(this).hasClass("active")){current=e(r.sectionContainer+".active");next=e(r.sectionContainer+"[data-index='"+t+"']");typeof r.onPageJump=="function"&&r.onPageJump(current,t);if(next){current.removeClass("active");next.addClass("active");e(".onepage-pagination li a.active").removeClass("active");e(".onepage-pagination li a[data-index='"+t+"']").addClass("active");e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"))}pos=(t-1)*100*-1;i.transformPage(r,pos,t)}if(r.updateURL==0)return!1});if(window.location.hash!=""&&window.location.hash!="#1"){init_index=window.location.hash.replace("#","");e(r.sectionContainer+"[data-index='"+init_index+"']").addClass("active");e("body").addClass("viewing-page-"+init_index);r.pagination==1&&e(".top-menu li a[data-index='"+init_index+"']").addClass("active");next=e(r.sectionContainer+"[data-index='"+init_index+"']");if(next){next.addClass("active");r.pagination==1&&e(".top-menu li a[data-index='"+init_index+"']").addClass("active");e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&r.updateURL==1){var u=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,u)}}pos=(init_index-1)*100*-1;i.transformPage(r,pos,init_index)}r.pagination==1&&e(".top-menu li a").click(function(){var t=e(this).data("index");if(!e(this).hasClass("active")){current=e(r.sectionContainer+".active");next=e(r.sectionContainer+"[data-index='"+t+"']");if(next){current.removeClass("active");next.addClass("active");e(".onepage-pagination li a.active").removeClass("active");e(".onepage-pagination li a[data-index='"+t+"']").addClass("active");e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");e("body").addClass("viewing-page-"+next.data("index"))}pos=(t-1)*100*-1;i.transformPage(r,pos,t)}if(r.updateURL==0)return!1});e(document).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault();var t=e.originalEvent.wheelDelta||-e.originalEvent.detail;o(e,t)});r.keyboard==1&&e(document).keydown(function(e){var t=e.target.tagName.toLowerCase();switch(e.which){case 38:t!="input"&&t!="textarea"&&i.moveUp();break;case 40:t!="input"&&t!="textarea"&&i.moveDown();break;default:return}e.preventDefault()});typeof r.onLoad=="function"&&r.onLoad(e(r.sectionContainer+".active").data("index"));return!1}}(window.jQuery);