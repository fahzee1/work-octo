/*
Name: c2selectbox Basic v1.1.2 (Major.Minor.Bugfix)
Date: 2012-09-07
*/(function(e){e.fn.c2Selectbox=function(t){var n=100;if(e.browser.msie&&e.browser.version.substr(0,1)=="6")return!1;if(typeof t=="undefined"){e(this).each(function(){if(e(this).find("option").length>0&&!e(this).hasClass("c2-sb-enabled")){e(this).addClass("c2-sb-enabled");var t=e(this),r='<div class="c2-sb-inner-wrap"><div class="c2-sb-text"></div><span class="c2-sb-button">Arrow</span></div><div class="c2-sb-list-wrap"><ul class="c2-sb-list"></ul></div>',i=e('<div class="c2-sb-wrap"></div>');i.append(r);var s=e(this).find("option:eq(0)"),o=!1;e(this).find("optgroup, option").each(function(t){if(e(this).is("option")){if(e(this).is(":selected")){e(i).find(".c2-sb-text").text(e(this).text());o=!0}e(i).find(".c2-sb-list").append('<li class="c2-sb-list-item"><a href="#" class="c2-sb-list-item-link '+(e(this).is(":selected")?"c2-sb-list-item-link-active":"")+' " data-value="'+e(this).val()+'">'+e(this).text()+"</a></li>")}else e(this).is("optgroup")&&e(i).find(".c2-sb-list").append('<li class="c2-sb-list-item"><a href="#" class="c2-sb-list-item-group">'+e(this).attr("label")+"</a></li>")});if(!o){e(i).find(".c2-sb-text").text(e(s).text());e(i).find('.c2-sb-list-item-link[data-value="'+e(s).val()+'"]').addClass("c2-sb-list-item-link-active");o=!0}var u=e(this).width()+parseInt(e(this).css("padding-left"))+parseInt(e(this).css("padding-right"))+parseInt(e(this).css("border-left-width"))+parseInt(e(this).css("border-right-width"));e(t).hide().after(i);var a=parseInt(e(i).find(".c2-sb-inner-wrap").css("padding-left"))+parseInt(e(i).find(".c2-sb-inner-wrap").css("padding-right")),f=parseInt(e(i).find(".c2-sb-button").css("width"))+parseInt(e(i).find(".c2-sb-button").css("padding-left"))+parseInt(e(i).find(".c2-sb-button").css("padding-right"))+parseInt(e(i).find(".c2-sb-button").css("margin-left"))+parseInt(e(i).find(".c2-sb-button").css("margin-right"));e(i).find(".c2-sb-text").width(u-a-f);list_width=e(i).width()-parseInt(e(i).find(".c2-sb-list-wrap").css("border-left-width"))-parseInt(e(i).find(".c2-sb-list-wrap").css("border-right-width"));e(i).find(".c2-sb-list-wrap").css("min-width",list_width);e(i).find(".c2-sb-text, .c2-sb-button").click(function(){var t=e(this).closest(".c2-sb-wrap"),r=e(t).find(".c2-sb-list-wrap");e(".c2-sb-wrap").not(t).c2Selectbox("close");e(r).stop(!0,!0);e(r).is(":visible")?e(t).removeClass("c2-sb-open").addClass("c2-sb-closing"):e(t).addClass("c2-sb-open");e(r).slideToggle(n,function(){e(r).is(":visible")||e(t).removeClass("c2-sb-closing")});return!1});if(e.browser.msie&&e.browser.version.substr(0,1)=="7"){e(i).find(".c2-sb-list-wrap").css({display:"block",visbility:"hidden"});setTimeout(function(){e(i).find(".c2-sb-list-item-link").width(e(i).find(".c2-sb-list-wrap").width());e(i).find(".c2-sb-list-wrap").css({display:"none",visbility:"visible"})},1)}e(i).find(".c2-sb-list-item-link").click(function(){e(this).closest(".c2-sb-list-wrap").find(".c2-sb-list-item-link").removeClass("c2-sb-list-item-link-active");e(this).addClass("c2-sb-list-item-link-active");e(this).closest(".c2-sb-wrap").find(".c2-sb-text").text(e(this).text());e(t).val(e(this).attr("data-value")).change();e(i).c2Selectbox("close");return!1});e(i).find(".c2-sb-list-item-group").click(function(){return!1})}});e("body").click(function(t){e(t.target).is(".c2-sb-wrap *")||e(".c2-sb-wrap").c2Selectbox("close");return!0})}else t=="close"&&e(this).each(function(){var t=[];e(this).is(".c2-sb-wrap")?t.push(e(this)):e(this).find(".c2-sb-wrap").each(function(){t.push(e(this))});for(var r=0;r<t.length;r++){var i=t[r];if(e(i).find(".c2-sb-list-wrap").is(":visible")){e(i).removeClass("c2-sb-open");e(i).addClass("c2-sb-closing");e(i).find(".c2-sb-list-wrap").stop(!0,!0).slideUp(n,function(){e(this).closest(".c2-sb-wrap").removeClass("c2-sb-closing")})}}})}})(jQuery);